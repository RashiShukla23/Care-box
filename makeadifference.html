<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Safe Water for All - Water Conservation Campaign</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f9ff;
            color: #333;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        /* Header styles */
        .header {
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #e0e0e0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header-left {
            flex: 1;
        }

        .campaign-title {
            font-size: 28px;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .campaign-title span {
            color: #3498db;
        }

        .campaign-url {
            color: #3498db;
            font-size: 16px;
            font-weight: 500;
        }

        .back-button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: background-color 0.3s;
        }

        .back-button:hover {
            background-color: #2980b9;
        }

        /* Stats section */
        .stats-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
        }

        .stat-box {
            text-align: center;
            flex: 1;
            min-width: 200px;
            padding: 15px;
        }

        .stat-value {
            font-size: 48px;
            font-weight: 800;
            color: #2c3e50;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 16px;
            color: #7f8c8d;
            font-weight: 500;
        }

        .progress-container {
            width: 100%;
            background-color: #ecf0f1;
            border-radius: 10px;
            margin-top: 10px;
            height: 10px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background-color: #3498db;
            border-radius: 10px;
            width: 35%;
        }

        /* Campaign goal */
        .campaign-goal {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
            text-align: center;
        }

        .goal-title {
            font-size: 22px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .goal-amount {
            font-size: 36px;
            font-weight: 800;
            color: #e74c3c;
        }

        /* Money table */
        .money-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }

        .section-title {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #3498db;
        }

        .money-table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
        }

        .money-table th {
            background-color: #3498db;
            color: white;
            text-align: left;
            padding: 15px;
            font-weight: 600;
        }

        .money-table td {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        .money-table tr:last-child td {
            border-bottom: none;
        }

        /* Products section */
        .products-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .product-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 2px solid transparent;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.1);
        }

        .product-card.selected {
            border-color: #3498db;
            background-color: #f0f8ff;
        }

        .product-image {
            height: 160px;
            width: 100%;
            object-fit: cover;
            background-color: #f8f9fa;
        }

        .product-details {
            padding: 15px;
        }

        .product-name {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 8px;
        }

        .product-progress {
            margin-bottom: 10px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 5px;
        }

        .product-price {
            font-size: 20px;
            font-weight: 700;
            color: #2ecc71;
            margin-bottom: 15px;
        }

        .add-button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 6px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.3s;
        }

        .add-button:hover {
            background-color: #2980b9;
        }

        .add-button.added {
            background-color: #2ecc71;
        }

        /* Cart summary */
        .cart-summary {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
            display: none;
        }

        .cart-summary.visible {
            display: block;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .cart-items {
            margin-bottom: 20px;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px dashed #eee;
        }

        .cart-item:last-child {
            border-bottom: none;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            padding: 20px 0;
            font-weight: 700;
            font-size: 22px;
            color: #2c3e50;
            border-top: 2px solid #eee;
            margin-top: 10px;
        }

        .donate-now-btn {
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 16px 30px;
            border-radius: 8px;
            font-weight: 700;
            font-size: 18px;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.3s;
            margin-top: 10px;
        }

        .donate-now-btn:hover {
            background-color: #c0392b;
        }

        .donate-now-btn:disabled {
            background-color: #95a5a6;
            cursor: not-allowed;
        }

        .remove-item {
            color: #e74c3c;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 14px;
            margin-left: 10px;
        }

        /* Project description */
        .project-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }

        .project-description {
            font-size: 16px;
            line-height: 1.7;
            color: #555;
            margin-top: 10px;
        }

        /* Recent donations */
        .donations-section {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            margin-bottom: 25px;
        }

        .donation-item {
            display: flex;
            justify-content: space-between;
            padding: 15px 0;
            border-bottom: 1px solid #f0f0f0;
        }

        .donation-item:last-child {
            border-bottom: none;
        }

        .donor-name {
            font-weight: 600;
            color: #2c3e50;
        }

        .donation-amount {
            font-weight: 700;
            color: #2ecc71;
        }

        .donation-time {
            color: #95a5a6;
            font-size: 14px;
        }

        /* Footer */
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #e0e0e0;
            color: #7f8c8d;
            font-size: 14px;
        }

        @media (max-width: 768px) {
            .stat-box {
                min-width: 150px;
            }

            .products-grid {
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            }

            .header {
                flex-direction: column;
                align-items: flex-start;
                gap: 15px;
            }

            .back-button {
                align-self: flex-start;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="header-left">
                <h1 class="campaign-title">Safe Water for All - <span>Water Conservation Campaign</span></h1>
                <p class="campaign-url">carebox/safewaterforall</p>
            </div>
            <button class="back-button" id="backToDashboard">
                <i class="fas fa-arrow-left"></i> Back to Dashboard
            </button>
        </div>

        <!-- Stats Section -->
        <div class="stats-section">
            <div class="stat-box">
                <div class="stat-value">35%</div>
                <div class="stat-label">Campaign Progress</div>
                <div class="progress-container">
                    <div class="progress-bar"></div>
                </div>
            </div>
            <div class="stat-box">
                <div class="stat-value">1,245</div>
                <div class="stat-label">Water Champions</div>
            </div>
            <div class="stat-box">
                <div class="stat-value">₹18,75,320</div>
                <div class="stat-label">Water Funds Raised</div>
            </div>
        </div>

        <!-- Campaign Goal -->
        <div class="campaign-goal">
            <div class="goal-title">Total Water Conservation Goal</div>
            <div class="goal-amount">₹50,00,000</div>
        </div>

        <!-- Where Your Money Goes -->
        <div class="money-section">
            <h2 class="section-title">Where Your Contribution Goes?</h2>
            <table class="money-table">
                <thead>
                    <tr>
                        <th>Water Conservation Kit</th>
                        <th>Required Quantity</th>
                        <th>Price/Unit</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Water Conservation Kit</td>
                        <td>8,000</td>
                        <td>₹1,000</td>
                    </tr>
                    <tr>
                        <td>Rainwater Harvesting Starter Kit</td>
                        <td>1,200</td>
                        <td>₹3,000</td>
                    </tr>
                    <tr>
                        <td>Greywater Recycling Kit</td>
                        <td>3,500</td>
                        <td>₹1,500</td>
                    </tr>
                    <tr>
                        <td>Drip Irrigation Kit</td>
                        <td>2,800</td>
                        <td>₹2,000</td>
                    </tr>
                    <tr>
                        <td>School Water Education Kit</td>
                        <td>1,500</td>
                        <td>₹1,200</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Products -->
        <div class="products-section">
            <h2 class="section-title">Water Conservation Kits</h2>
            <div class="products-grid" id="productsGrid">
                <!-- Products will be dynamically added here -->
            </div>
        </div>

        <!-- Cart Summary -->
        <div class="cart-summary" id="cartSummary">
            <div class="cart-header">
                <h3 class="section-title" style="margin-bottom: 0;">Your Selected Water Kits</h3>
                <button class="remove-item" id="clearCart">Clear All</button>
            </div>
            <div class="cart-items" id="cartItems">
                <!-- Cart items will be dynamically added here -->
            </div>
            <div class="cart-total">
                <span>Total Water Contribution:</span>
                <span id="cartTotal">₹0</span>
            </div>
            <button class="donate-now-btn" id="donateNowButton" disabled>
                <i class="fas fa-heart"></i> Support Water Conservation
            </button>
        </div>

        <!-- Project Description -->
        <div class="project-section">
            <h2 class="section-title">The Safe Water for All Project</h2>
            <p class="project-description">
                In India, over 163 million people lack access to safe drinking water, and water scarcity affects nearly
                600 million people annually. Our "Safe Water for All" campaign addresses this crisis through sustainable
                solutions: installing rainwater harvesting systems in water-scarce regions, promoting greywater
                recycling in urban areas, providing drip irrigation kits to farmers to reduce agricultural water waste,
                and educating school children about water conservation. Every ₹1,000 provides safe drinking water for
                one person for an entire year. Join us in creating a water-secure future for India's most vulnerable
                communities.
            </p>
        </div>

        <!-- Recent Donations -->
        <div class="donations-section">
            <h2 class="section-title">Recent Water Champions</h2>
            <div id="recentDonationsList">
                <div class="donation-item">
                    <div>
                        <div class="donor-name">Aqua Foundation</div>
                        <div class="donation-time">3 hours ago</div>
                    </div>
                    <div class="donation-amount">₹30,000</div>
                </div>
                <div class="donation-item">
                    <div>
                        <div class="donor-name">Sanjay Patel</div>
                        <div class="donation-time">8 hours ago</div>
                    </div>
                    <div class="donation-amount">₹5,500</div>
                </div>
                <div class="donation-item">
                    <div>
                        <div class="donor-name">Meera Krishnan</div>
                        <div class="donation-time">1 day ago</div>
                    </div>
                    <div class="donation-amount">₹3,000</div>
                </div>
                <div class="donation-item">
                    <div>
                        <div class="donor-name">Anonymous</div>
                        <div class="donation-time">2 days ago</div>
                    </div>
                    <div class="donation-amount">₹15,000</div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <p>© 2023 CareBox | Safe Water for All Campaign | All contributions are tax exempted under 80G</p>
        </div>
    </div>

    <script>
        // Water Conservation Product data with YOUR images
        const products = [
            {
                id: 1,
                name: "Water Conservation Kit",
                description: "Low-flow showerhead, tap aerators, water-saving devices for households",
                price: 1000,
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQDYwBxGFyyk0Fs0vTdmyEwf6Y9cew7YCoikw&s",
                obtained: 5200,
                required: 8000
            },
            {
                id: 2,
                name: "Rainwater Harvesting Starter Kit",
                description: "Rooftop diverter, first flush device, pipes for rainwater collection",
                price: 3000,
                image: "https://cdn11.bigcommerce.com/s-kaondgp1o7/images/stencil/590x590/products/112/2141/PKITM_Rainwater_Harvesting_Pump_Kit_with_Mains_Water_Top-up_TCA7000__05813.1764612449.jpg?c=2",
                obtained: 850,
                required: 1200
            },
            {
                id: 3,
                name: "Greywater Recycling Kit",
                description: "Kitchen-to-garden pipe system, filters, biodegradable soap for water reuse",
                price: 1500,
                image: "https://cf.ltkcdn.net/kids/images/std-xs/311780-340x227-waterfiltersupplies.jpg",
                obtained: 2800,
                required: 3500
            },
            {
                id: 4,
                name: "Drip Irrigation Kit",
                description: "Drip pipes, connectors, timer for efficient agricultural water use",
                price: 2000,
                image: "https://m.media-amazon.com/images/I/81Uu5rxlFuL._AC_UF1000,1000_QL80_.jpg",
                obtained: 1900,
                required: 2800
            },
            {
                id: 5,
                name: "School Water Education Kit",
                description: "Water cycle models, conservation posters, activity books for students",
                price: 1200,
                image: "https://c8.alamy.com/comp/W64MTM/kolkata-india-31st-july-2019-school-student-hold-bucket-and-poster-during-a-procession-to-create-awareness-for-water-conservation-among-general-people-credit-saikat-paulpacific-pressalamy-live-news-credit-pacific-pressalamy-live-news-W64MTM.jpg",
                obtained: 950,
                required: 1500
            }
        ];

        // Cart to store selected products
        let cart = [];

        // DOM elements
        const productsGrid = document.getElementById('productsGrid');
        const cartSummary = document.getElementById('cartSummary');
        const cartItems = document.getElementById('cartItems');
        const cartTotal = document.getElementById('cartTotal');
        const donateNowButton = document.getElementById('donateNowButton');
        const clearCartButton = document.getElementById('clearCart');
        const recentDonationsList = document.getElementById('recentDonationsList');
        const backToDashboardButton = document.getElementById('backToDashboard');

        // Initialize the page
        document.addEventListener('DOMContentLoaded', function () {
            // Render products
            renderProducts();

            // Set up event listeners
            setupEventListeners();
        });

        // Render products to the page
        function renderProducts() {
            productsGrid.innerHTML = '';

            products.forEach(product => {
                const progressPercent = (product.obtained / product.required) * 100;

                const productCard = document.createElement('div');
                productCard.className = 'product-card';
                productCard.dataset.id = product.id;

                productCard.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="product-image">
                    <div class="product-details">
                        <div class="product-name">${product.name}</div>
                        <div class="product-progress">
                            <div class="progress-info">
                                <span>${product.obtained.toLocaleString()} of ${product.required.toLocaleString()}</span>
                                <span>${Math.round(progressPercent)}%</span>
                            </div>
                            <div class="progress-container">
                                <div class="progress-bar" style="width: ${progressPercent}%"></div>
                            </div>
                        </div>
                        <div class="product-price">₹${product.price.toLocaleString()}/unit</div>
                        <button class="add-button" data-id="${product.id}">ADD +</button>
                    </div>
                `;

                productsGrid.appendChild(productCard);
            });

            // Add event listeners to add buttons
            document.querySelectorAll('.add-button').forEach(button => {
                button.addEventListener('click', function () {
                    const productId = parseInt(this.dataset.id);
                    addToCart(productId);
                });
            });
        }

        // Add product to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            if (!product) return;

            // Check if product is already in cart
            const existingItem = cart.find(item => item.id === productId);

            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    id: product.id,
                    name: product.name,
                    price: product.price,
                    quantity: 1
                });
            }

            // Update button text
            const addButton = document.querySelector(`.add-button[data-id="${productId}"]`);
            addButton.textContent = 'ADDED ✓';
            addButton.classList.add('added');

            // Update cart display
            updateCartDisplay();

            // Reset button after 2 seconds
            setTimeout(() => {
                addButton.textContent = 'ADD +';
                addButton.classList.remove('added');
            }, 2000);
        }

        // Remove item from cart
        function removeFromCart(productId) {
            const itemIndex = cart.findIndex(item => item.id === productId);

            if (itemIndex !== -1) {
                if (cart[itemIndex].quantity > 1) {
                    cart[itemIndex].quantity -= 1;
                } else {
                    cart.splice(itemIndex, 1);
                }

                updateCartDisplay();
            }
        }

        // Clear entire cart
        function clearCart() {
            cart = [];
            updateCartDisplay();
        }

        // Update cart display
        function updateCartDisplay() {
            if (cart.length === 0) {
                cartSummary.classList.remove('visible');
                donateNowButton.disabled = true;
                return;
            }

            cartSummary.classList.add('visible');
            donateNowButton.disabled = false;

            // Calculate total
            let total = 0;
            let cartHTML = '';

            cart.forEach(item => {
                const itemTotal = item.price * item.quantity;
                total += itemTotal;

                cartHTML += `
                    <div class="cart-item">
                        <div>
                            <span>${item.name} x${item.quantity}</span>
                            <button class="remove-item" data-id="${item.id}">Remove</button>
                        </div>
                        <span>₹${itemTotal.toLocaleString()}</span>
                    </div>
                `;
            });

            cartItems.innerHTML = cartHTML;
            cartTotal.textContent = `₹${total.toLocaleString()}`;

            // Add event listeners to remove buttons
            document.querySelectorAll('.remove-item').forEach(button => {
                button.addEventListener('click', function () {
                    const productId = parseInt(this.dataset.id);
                    removeFromCart(productId);
                });
            });
        }

        // Handle donation
        function handleDonation() {
            let total = 0;
            cart.forEach(item => {
                total += item.price * item.quantity;
            });

            // Ask for donor name
            const donorName = prompt("Thank you for supporting water conservation! Please enter your name (optional):");

            // If user cancels, don't proceed
            if (donorName === null) {
                return;
            }

            const nameToUse = donorName.trim() ? donorName : "Anonymous";

            // Calculate water impact
            const litersSaved = total * 365; // ₹1 = 1 liter saved per day for a year
            const peopleImpacted = Math.floor(total / 1000); // ₹1000 provides water for 1 person for a year

            // Show success message
            alert(`Thank you ${nameToUse} for your generous contribution of ₹${total.toLocaleString()}!\n\nYour donation will save approximately ${litersSaved.toLocaleString()} liters of water annually and provide safe water access for ${peopleImpacted} ${peopleImpacted === 1 ? 'person' : 'people'} for a year.`);

            // Add to recent donations
            addRecentDonation(nameToUse, total);

            // Reset cart
            cart = [];
            updateCartDisplay();

            // Update stats
            updateStats(total);
        }

        // Add new donation to recent donations list
        function addRecentDonation(donorName, amount) {
            const newDonation = document.createElement('div');
            newDonation.className = 'donation-item';
            newDonation.innerHTML = `
                <div>
                    <div class="donor-name">${donorName}</div>
                    <div class="donation-time">Just now</div>
                </div>
                <div class="donation-amount">₹${amount.toLocaleString()}</div>
            `;

            // Insert at the top of the list
            recentDonationsList.insertBefore(newDonation, recentDonationsList.firstChild);
        }

        // Update campaign stats
        function updateStats(donationAmount) {
            // Update total raised
            const raisedElement = document.querySelector('.stat-box:nth-child(3) .stat-value');
            const currentRaisedText = raisedElement.textContent.replace(/[^0-9]/g, '');
            const currentRaised = parseInt(currentRaisedText);
            const newRaised = currentRaised + donationAmount;
            raisedElement.textContent = `₹${newRaised.toLocaleString()}`;

            // Update progress
            const progressElement = document.querySelector('.progress-bar');
            const progressValueElement = document.querySelector('.stat-box:first-child .stat-value');
            const goal = 5000000;
            const progressPercent = (newRaised / goal) * 100;

            const roundedProgress = Math.round(progressPercent);
            progressValueElement.textContent = `${roundedProgress}%`;
            progressElement.style.width = `${progressPercent}%`;

            // Update donor count
            const donorElement = document.querySelector('.stat-box:nth-child(2) .stat-value');
            const currentDonorsText = donorElement.textContent.replace(/[^0-9]/g, '');
            const currentDonors = parseInt(currentDonorsText);
            donorElement.textContent = (currentDonors + 1).toLocaleString();
        }

        // Go back to donor dashboard
        function goToDashboard() {
            // Change this to your actual donor dashboard file path
            window.location.href = 'donerdashboard.html';
        }

        // Set up event listeners
        function setupEventListeners() {
            // Donate Now button
            donateNowButton.addEventListener('click', handleDonation);

            // Clear cart button
            clearCartButton.addEventListener('click', clearCart);

            // Back to dashboard button
            backToDashboardButton.addEventListener('click', goToDashboard);

            // Product card selection
            document.addEventListener('click', function (e) {
                const productCard = e.target.closest('.product-card');
                if (productCard) {
                    // Toggle selection
                    productCard.classList.toggle('selected');
                }
            });
        }
    </script>
</body>

</html>